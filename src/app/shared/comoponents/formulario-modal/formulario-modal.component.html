<ion-header>
  <ion-toolbar color="secondary">
    <ion-title>{{ equipo }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="onCerrar()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="form">

    <!-- Nombre del equipo (solo si es "Otros") -->
<ion-item *ngIf="equipo === 'Otros'" lines="none">
  <ion-label position="floating">Nombre del equipo</ion-label>
  <ion-input type="text" formControlName="equipoNombre"></ion-input>
</ion-item>
<ion-text color="danger" *ngIf="equipo === 'Otros' && form.get('equipoNombre')?.touched && form.get('equipoNombre')?.invalid">
  <small *ngIf="form.get('equipoNombre')?.errors?.['required']">Este campo es obligatorio.</small>
  <small *ngIf="form.get('equipoNombre')?.errors?.['minlength']">Debe tener al menos 3 caracteres.</small>
</ion-text>
    <!-- Cantidad -->
    <ion-item class="custom-input" lines="none">
      <ion-label position="floating">Cantidad (1–10)</ion-label>
      <ion-input type="number" formControlName="cantidad"></ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="form.get('cantidad')?.touched && form.get('cantidad')?.invalid">
      <small *ngIf="form.get('cantidad')?.errors?.['required']">Este campo es obligatorio.</small>
      <small *ngIf="form.get('cantidad')?.errors?.['min']">Mínimo: 1</small>
      <small *ngIf="form.get('cantidad')?.errors?.['max']">Máximo: 10</small>
    </ion-text>

    <!-- Potencia -->
    <ion-item class="custom-input" lines="none">
      <ion-label position="floating">Potencia (0–15000)</ion-label>
      <ion-input type="number" formControlName="potencia"></ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="form.get('potencia')?.touched && form.get('potencia')?.invalid">
      <small *ngIf="form.get('potencia')?.errors?.['required']">Este campo es obligatorio.</small>
      <small *ngIf="form.get('potencia')?.errors?.['min']">Debe ser mayor o igual a 0.</small>
      <small *ngIf="form.get('potencia')?.errors?.['max']">Máximo permitido: 15000.</small>
    </ion-text>

    <!-- Horas -->
    <ion-item class="custom-input" lines="none">
      <ion-label position="floating">Horas (1–24)</ion-label>
      <ion-input type="number" formControlName="horas"></ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="form.get('horas')?.touched && form.get('horas')?.invalid">
      <small *ngIf="form.get('horas')?.errors?.['required']">Este campo es obligatorio.</small>
      <small *ngIf="form.get('horas')?.errors?.['min']">Debe ser mínimo 1 hora.</small>
      <small *ngIf="form.get('horas')?.errors?.['max']">Máximo 24 horas.</small>
    </ion-text>

    <!-- Días -->
    <ion-item class="custom-input" lines="none">
      <ion-label position="floating">Días (1–30)</ion-label>
      <ion-input type="number" formControlName="dias"></ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="form.get('dias')?.touched && form.get('dias')?.invalid">
      <small *ngIf="form.get('dias')?.errors?.['required']">Este campo es obligatorio.</small>
      <small *ngIf="form.get('dias')?.errors?.['min']">Mínimo: 1 día.</small>
      <small *ngIf="form.get('dias')?.errors?.['max']">Máximo: 30 días.</small>
    </ion-text>

    <ion-button
  expand="block"
  color="secondary"
  (click)="onAgregar()"
  [disabled]="form.invalid"
>
  Agregar a la Calculadora
</ion-button>
  </form>
</ion-content>
